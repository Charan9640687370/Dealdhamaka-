<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel - DealDhamaka</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    h2 { background-color: #007BFF; color: white; padding: 10px; border-radius: 5px; }
    input, textarea { width: 100%; margin: 5px 0; padding: 8px; border: 1px solid #ccc; border-radius: 5px; }
    button { margin: 10px 5px; padding: 10px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background-color: #218838; }
    .product, .complaint { border: 1px solid #ccc; padding: 10px; margin: 10px 0; border-radius: 5px; background: #fff; }
    .admin-section { display: none; }
  </style>
</head>
<body>  <h2>Admin Login</h2>
  <input type="password" id="adminPassword" placeholder="Enter Admin Password" />
  <button onclick="checkPassword()">Login</button>  <div id="adminPanel" class="admin-section">
    <h2>Welcome to DealDhamaka Admin Panel</h2><button onclick="showSection('addProduct')">‚ûï Add Product</button>
<button onclick="showSection('addBanner')">üñºÔ∏è Add Banner</button>
<button onclick="showSection('viewCustomers')">üë• Customers</button>
<button onclick="showSection('viewComplaints')">üì© Complaints</button>

<div id="addProduct" class="admin-section">
  <h3>Add New Product</h3>
  <input type="text" id="pname" placeholder="Product Name" />
  <input type="text" id="pimage" placeholder="Product Image URL" />
  <input type="text" id="pprice" placeholder="Product Price" />
  <textarea id="pdesc" placeholder="Product Description"></textarea>
  <input type="text" id="plink" placeholder="Affiliate Link" />
  <button onclick="addProduct()">Add Product</button>
</div>

<div id="addBanner" class="admin-section">
  <h3>Add Banner</h3>
  <input type="text" id="bannerUrl" placeholder="Banner Image URL" />
  <button onclick="addBanner()">Upload Banner</button>
</div>

<div id="viewCustomers" class="admin-section">
  <h3>Website Visitors</h3>
  <div id="customerList">Loading...</div>
</div>

<div id="viewComplaints" class="admin-section">
  <h3>Customer Complaints</h3>
  <div id="complaintList">Loading complaints...</div>
</div>

<h3>üì¶ All Products</h3>
<div id="productList">Loading products...</div>

  </div>  <script>
    let password = "charancherry@09/09/2007"; // You can change the password here.

    function checkPassword() {
      let input = document.getElementById("adminPassword").value;
      if (input === password) {
        document.getElementById("adminPanel").style.display = "block";
      } else {
        alert("Incorrect Password");
      }
    }

    function showSection(id) {
      document.querySelectorAll(".admin-section").forEach(el => {
        if (el.id !== "adminPanel") el.style.display = "none";
      });
      document.getElementById(id).style.display = "block";
    }

    function addProduct() {
      const name = document.getElementById("pname").value;
      const image = document.getElementById("pimage").value;
      const price = document.getElementById("pprice").value;
      const desc = document.getElementById("pdesc").value;
      const link = document.getElementById("plink").value;
      const id = Date.now();
      const product = { id, name, image, price, desc, link };
      let data = JSON.parse(localStorage.getItem("products") || "[]");
      data.push(product);
      localStorage.setItem("products", JSON.stringify(data));
      alert("Product added successfully");
      displayProducts();
    }

    function displayProducts() {
      let products = JSON.parse(localStorage.getItem("products") || "[]");
      let html = "";
      products.forEach(prod => {
        html += `<div class='product'>
          <h4>${prod.name}</h4>
          <img src='${prod.image}' width='100'/><br/>
          ‚Çπ${prod.price}<br/>
          ${prod.desc}<br/>
          <a href='${prod.link}' target='_blank'>Buy</a><br/>
          <button onclick='editProduct(${prod.id})'>Edit</button>
          <button onclick='deleteProduct(${prod.id})'>Delete</button>
        </div>`;
      });
      document.getElementById("productList").innerHTML = html;
    }

    function deleteProduct(id) {
      let data = JSON.parse(localStorage.getItem("products") || "[]");
      data = data.filter(p => p.id !== id);
      localStorage.setItem("products", JSON.stringify(data));
      displayProducts();
    }

    function editProduct(id) {
      let data = JSON.parse(localStorage.getItem("products") || "[]");
      const prod = data.find(p => p.id === id);
      const newName = prompt("Edit name", prod.name);
      const newPrice = prompt("Edit price", prod.price);
      const newDesc = prompt("Edit description", prod.desc);
      prod.name = newName;
      prod.price = newPrice;
      prod.desc = newDesc;
      localStorage.setItem("products", JSON.stringify(data));
      displayProducts();
    }

    function addBanner() {
      const url = document.getElementById("bannerUrl").value;
      localStorage.setItem("banner", url);
      alert("Banner added");
    }

    function loadComplaints() {
      const complaints = JSON.parse(localStorage.getItem("complaints") || "[]");
      let html = "";
      complaints.forEach((c, i) => {
        html += `<div class='complaint'><b>${c.name}</b><br>${c.message}<br>
        <textarea id='reply${i}' placeholder='Type reply...'></textarea><button onclick='replyTo(${i})'>Reply</button></div>`;
  });
  document.getElementById("complaintList").innerHTML = html;
}

function replyTo(i) {
  const msg = document.getElementById(`reply${i}`).value;
  alert("Reply sent: " + msg); // You can integrate email later.
}

function loadCustomers() {
  let count = localStorage.getItem("visits") || 0;
  document.getElementById("customerList").innerText = `${count} customers visited this site.`;
}

window.onload = () => {
  displayProducts();
  loadCustomers();
  loadComplaints();
}

  </script>
</body>
</html>
